<!-- DO NOT REMOVE -->
<!-- import { Meta } from '@storybook/addon-docs/blocks'; -->

<Meta title="Docs/Getting started" />

# Getting started ðŸ”¥

> Library is availvable as a [`npm` package](#)

## Installation

1. Add `.nmprc` file for the scope

```sh
@<company>:registry=https://pkgs.dev.azure.com/.../.../

always-auth=true
```

2. Configure the authentication to private registry. More info in:

- [Microsoft guide](https://docs.microsoft.com/en-us/azure/devops/artifacts/npm/npmrc?view=azure-devops&tabs=windows)
- [Our private registry](#)

3. Install the package

```sh
// with npm
npm install @<company-registry>/tsdx-lib

// with yarn
yarn add @<company-registry>/tsdx-lib
```

## CI/CD Pipelines ðŸš€

The pipelines are run in Azure Devops, which will cover:

- Build
- Lint
- Tests
- `Storybook` build and deployment to `gh-pages`
- `npm` package publish

## Developing locally

> This TSDX setup is meant for developing React component libraries (not apps!) that can be published to NPM. If youâ€™re looking to build a React-based app, you should use `create-react-app`, `razzle`, `nextjs`, `gatsby`, or `react-static`.

> If youâ€™re new to TypeScript and React, checkout [this handy cheatsheet](https://github.com/sw-yx/react-typescript-cheatsheet/)

### Commands

TSDX scaffolds your new library inside `/src`, and also sets up a [Parcel-based](https://parceljs.org) playground for it inside `/playground`.

The recommended workflow is to run TSDX in one terminal:

```bash
yarn install
yarn start
```

This builds to `/dist` and runs the project in watch mode so any edits you save inside `src` causes a rebuild to `/dist`.

Then run either Storybook or the example playground:

#### Storybook

Run inside another terminal:

```bash
yarn storybook
```

This loads the stories from `**/*.story.(ts|tsx|mdx)` files.

> NOTE: Stories should reference the components as if using the library, similar to the example playground. This means importing from the root project directory. This has been aliased in the tsconfig and the storybook webpack config as a helper.

#### Playground

Then run the example playground inside another:

```bash
cd playground
yarn install
yarn start
```

The default example imports and live reloads whatever is in `/dist`, so if you are seeing an out of date component, make sure TSDX is running in watch mode like we recommend above. **No symlinking required**, we use [Parcel's aliasing](https://parceljs.org/module_resolution.html#aliases).

To do a one-off build, use `yarn build`.

To run tests, use `yarn test`.
